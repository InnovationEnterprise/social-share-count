window.SocialCounts=function(a,f){function e(a,b,c){window[c].total+=a;window[c].counted+=1;f.total||(b.classList.remove("is-hidden"),b.textContent=a);4===window[c].counted&&window[c].totalView&&(window[c].totalView.textContent=window[c].total,delete window[c])}if(a){this.options=f||{};var g=this.url=this.options.url||window.location.href,d=g.replace(/[^a-z0-9 ,.?!]/ig,"").replace(/\./g,"");f.total&&(d+="total");window[d]||(window[d]={total:0,counted:0,totalView:!1,facebook:!1,gplus:!1,linkedin:!1,
buffer:!1});f.total&&(window[d].totalView=a);4===window[d].counted&&e(0,a,g);window[d].callAsyncCount=function(a){var b=d;a.shares?(window[b].buffer=a.shares,window[b].total+=a.shares,window[b].bufferContainer&&(window[b].bufferContainer.classList.remove("is-hidden"),window[b].bufferContainer.textContent=a.shares)):a.count&&(window[b].linkedin=a.count,window[b].total+=a.count,window[b].linkedinContainer&&(window[b].linkedinContainer.classList.remove("is-hidden"),window[b].linkedinContainer.textContent=
a.count));window[b].counted+=1;4===window[b].counted&&window[b].totalView&&(window[b].totalView.textContent=window[b].total,delete window[d])};!a.classList.contains("socialCount-facebook")&&!f.total||window[d].facebook||(window[d].facebook=!0,function(d,b){var c=new XMLHttpRequest;c.open("GET","https://graph.facebook.com/?id="+d,!0);c.onreadystatechange=function(){if(4===this.readyState)if(200<=this.status&&400>this.status){var c=JSON.parse(this.responseText);c.shares?(window[b].facebook=c.shares,
e(c.shares,a,b)):(window[b].facebook=0,e(0,a,b))}else window[b].facebook=0,e(0,a,b)};c.send()}(g,d));!a.classList.contains("socialCount-linkedin")&&!f.total||window[d].linkedin||(window[d].linkedin=0,a.classList.contains("socialCount-linkedin")&&(window[d].linkedinContainer=a),function(d,b){var c=document.createElement("script");c.src="https://www.linkedin.com/countserv/count/share?format=jsonp&callback=window."+b+".callAsyncCount&url="+d;c.onerror=function(){e(0,a,b)};document.getElementsByTagName("head")[0].appendChild(c)}(g,
d));!a.classList.contains("socialCount-gplus")&&!f.total||window[d].gplus||(window[d].gplus=0,function(d,b){var c=new XMLHttpRequest;c.open("POST","https://clients6.google.com/rpc",!0);c.setRequestHeader("Content-Type","application/json; charset=UTF-8");var f=JSON.stringify({method:"pos.plusones.get",id:"p",params:{nolog:!0,id:d,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"});c.onreadystatechange=function(){if(4===this.readyState)if(200<=this.status&&400>
this.status){var c=JSON.parse(this.responseText);c.result.metadata.globalCounts.count?(window[b].gplus=c.result.metadata.globalCounts.count,e(c.result.metadata.globalCounts.count,a,b)):e(0,a,b)}else e(0,a,b)};c.send(f)}(g,d));!a.classList.contains("socialCount-buffer")&&!f.total||window[d].buffer||(window[d].buffer=0,a.classList.contains("socialCount-buffer")&&(window[d].bufferContainer=a),function(d,b){var c=document.createElement("script");c.src="https://api.bufferapp.com/1/links/shares.json?format=jsonp&callback=window."+
b+".callAsyncCount&url="+d;c.onerror=function(){e(0,a,b)};document.getElementsByTagName("head")[0].appendChild(c)}(g,d))}};
(function(a,f,e){if("addEventListener"in window&&"querySelectorAll"in document&&"localStorage"in window)for(a=document.querySelectorAll(".m-social"),f=a.length,e=0;e<f;e++)a[e].addEventListener("click",function(a){a.preventDefault();a=this.getElementsByTagName("a")[0].href;window.open(a,"Social Share","menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes,width=800,height=430,top="+(screen.height/2-300)+",left="+(screen.width/2-400))},!1)})(this,this.document);
